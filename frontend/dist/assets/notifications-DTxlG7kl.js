import{h as y,o as w,r as T,j as e,B as N,s as c,i as d,t as u}from"./index-B01K6LtN.js";import{C as K}from"./content-section-BecwT8tS.js";import{C as _,c as g}from"./card-C8S_LLSC.js";import{T as B,a as G,b as C,c as b}from"./tabs-BzFi7Z-H.js";import{u as k,F as S,a as t,b as n,c as a,d as o}from"./form-CxRSSxqG.js";import{a as E}from"./zod-C1KCSxpg.js";import{u as v}from"./useQuery-DrhposrY.js";import{p as F,g as I}from"./config-DY6TxoJ-.js";import{I as m}from"./input-c0Q4JQol.js";import{S as q}from"./separator-6OHr6uP3.js";import{S as h,T as D}from"./textarea-C9aYxd8c.js";import{S as A}from"./save-BkRvdnS9.js";import{B as O}from"./bell-CC1s-8ZO.js";import"./index-WrHNe2I8.js";import"./index-BWB9MiGf.js";import"./index-C2uM0dkt.js";import"./request-2_miQ1pQ.js";import"./index-Dx9d1UQ8.js";import"./index-CWOWhum8.js";import"./createLucideIcon-CCBfe0vc.js";const R=w({enable:d(),push_image:d(),spoiler:d(),bot_token:c(),chat_id:c(),template:c(),white_list:c()}),x="Notification.telegram",H=`ğŸ“° {{ title }}

ğŸ—‚ åˆ†ç±»ï¼š{{ section }} / {{ category }}
ğŸ“¦ å¤§å°ï¼š{{ size }}
ğŸ—“ å‘å¸ƒï¼š{{ publish_date }}
ğŸ†” TIDï¼š{{ tid }}

â¬‡ï¸ ä¸‹è½½å™¨ï¼š{{ downloader }}
ğŸ“‚ ä¿å­˜è·¯å¾„ï¼š{{ save_path }}

ğŸ”— è¯¦æƒ…é¡µï¼š
{{ detail_url }}

ğŸ§² Magnetï¼š
{{ magnet }}
`;function L(){const p=y(),r=k({resolver:E(R),defaultValues:{enable:!1,push_image:!1,spoiler:!1,bot_token:"",chat_id:"",white_list:"",template:H}}),{data:l}=v({queryKey:[x],queryFn:async()=>(await I(x)).data,staleTime:300*1e3});T.useEffect(()=>{l&&r.reset(l)},[l,r]);const f=async s=>{const i=await F(x,s);i.code===0?(u.success(i.message),p.invalidateQueries({queryKey:[x]})):u.error(i.message)};return e.jsx(S,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(f),className:"max-w-md space-y-4",children:[e.jsx(t,{control:r.control,name:"enable",render:({field:s})=>e.jsxs(n,{className:"flex items-center justify-between",children:[e.jsx(a,{children:"å¯ç”¨telegramé€šçŸ¥"}),e.jsx(o,{children:e.jsx(h,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(t,{control:r.control,name:"push_image",render:({field:s})=>e.jsxs(n,{className:"flex items-center justify-between",children:[e.jsx(a,{children:"å¯ç”¨å›¾ç‰‡æ¨é€"}),e.jsx(o,{children:e.jsx(h,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(t,{control:r.control,name:"spoiler",render:({field:s})=>e.jsxs(n,{className:"flex items-center justify-between",children:[e.jsx(a,{children:"å¯ç”¨é˜²å‰§é€"}),e.jsx(o,{children:e.jsx(h,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(q,{}),e.jsx(t,{name:"bot_token",control:r.control,render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"Bot Token"}),e.jsx(o,{children:e.jsx(m,{placeholder:"TELEGRAM_BOT_TOKEN",...s})})]})}),e.jsx(t,{name:"chat_id",control:r.control,render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"Chat ID"}),e.jsx(o,{children:e.jsx(m,{placeholder:"TELEGRAM_CHAT_ID",...s})})]})}),e.jsx(t,{name:"white_list",control:r.control,render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"ç™½åå•"}),e.jsx(o,{children:e.jsx(m,{placeholder:"ç™½åå•åˆ—è¡¨ï¼Œç”¨é€—å·åˆ†å‰²",...s})})]})}),e.jsx(t,{name:"template",control:r.control,render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"æ¶ˆæ¯æ¨¡æ¿"}),e.jsx(o,{children:e.jsx(D,{rows:6,...s})})]})}),e.jsxs(N,{type:"submit",className:"min-w-[140px]",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"ä¿å­˜é…ç½®"]})]})})}const M=w({enable:d(),push_image:d(),corp_id:c(),corp_secret:c(),agent_id:c(),token:c(),encoding_aes_key:c(),to_user:c(),proxy:c().optional(),template:c()}),j="Notification.wechat",Q=`ğŸ—‚ åˆ†ç±»ï¼š{{ section }} / {{ category }}
ğŸ“¦ å¤§å°ï¼š{{ size }}
ğŸ—“ å‘å¸ƒï¼š{{ publish_date }}
ğŸ†” TIDï¼š{{ tid }}

â¬‡ï¸ ä¸‹è½½å™¨ï¼š{{ downloader }}
ğŸ“‚ ä¿å­˜è·¯å¾„ï¼š{{ save_path }}

ğŸ”— è¯¦æƒ…é¡µï¼š
{{ detail_url }}

ğŸ§² Magnetï¼š
{{ magnet }}
`;function W(){const p=y(),r=k({resolver:E(M),defaultValues:{enable:!1,push_image:!1,corp_id:"",corp_secret:"",agent_id:"",token:"",encoding_aes_key:"",to_user:"@all",proxy:"",template:Q}}),{data:l}=v({queryKey:[j],queryFn:async()=>(await I(j)).data,staleTime:300*1e3});T.useEffect(()=>{l&&r.reset(l)},[l,r]);const f=async s=>{const i=await F(j,s);i.code===0?(u.success(i.message),p.invalidateQueries({queryKey:[j]})):u.error(i.message)};return e.jsx(S,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(f),className:"max-w-md space-y-4",children:[e.jsx(t,{control:r.control,name:"enable",render:({field:s})=>e.jsxs(n,{className:"flex items-center justify-between",children:[e.jsx(a,{children:"å¯ç”¨ä¼ä¸šå¾®ä¿¡é€šçŸ¥"}),e.jsx(o,{children:e.jsx(h,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(t,{control:r.control,name:"push_image",render:({field:s})=>e.jsxs(n,{className:"flex items-center justify-between",children:[e.jsx(a,{children:"æ¨é€å›¾ç‰‡"}),e.jsx(o,{children:e.jsx(h,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(q,{}),e.jsx(t,{name:"corp_id",control:r.control,render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"ä¼ä¸š ID"}),e.jsx(o,{children:e.jsx(m,{placeholder:"WECHAT_CORP_ID",...s})})]})}),e.jsx(t,{name:"corp_secret",control:r.control,render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"ä¼ä¸šå¯†é’¥"}),e.jsx(o,{children:e.jsx(m,{placeholder:"WECHAT_CORP_SECRET",...s})})]})}),e.jsx(t,{name:"agent_id",control:r.control,render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"åº”ç”¨ ID"}),e.jsx(o,{children:e.jsx(m,{placeholder:"WECHAT_AGENT_ID",...s})})]})}),e.jsx(t,{name:"template",control:r.control,render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"æ¶ˆæ¯æ¨¡æ¿"}),e.jsx(o,{children:e.jsx(D,{rows:6,...s})})]})}),e.jsxs(N,{type:"submit",className:"min-w-[140px]",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"ä¿å­˜é…ç½®"]})]})})}function z(){return e.jsxs(B,{defaultValue:"wechat",className:"w-full",children:[e.jsxs(G,{children:[e.jsx(C,{value:"wechat",children:"ä¼ä¸šå¾®ä¿¡"}),e.jsx(C,{value:"telegram",children:"Telegram"})]}),e.jsx(b,{value:"wechat",children:e.jsx(_,{children:e.jsx(g,{children:e.jsx(W,{})})})}),e.jsx(b,{value:"telegram",children:e.jsx(_,{children:e.jsx(g,{children:e.jsx(L,{})})})})]})}function V(){return e.jsx(K,{title:"é€šçŸ¥",desc:"ç®¡ç†é…ç½®å¾®ä¿¡ã€TGç­‰é€šçŸ¥æ¸ é“",icon:e.jsx(O,{size:18}),children:e.jsx(z,{})})}const xe=V;export{xe as component};
