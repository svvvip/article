import{R as v,r as de,j as re,c as he,S as Mt}from"./index-B01K6LtN.js";import{P as It}from"./index-C2uM0dkt.js";var ve=e=>e.type==="checkbox",ne=e=>e instanceof Date,q=e=>e==null;const ut=e=>typeof e=="object";var I=e=>!q(e)&&!Array.isArray(e)&&ut(e)&&!ne(e),dt=e=>I(e)&&e.target?ve(e.target)?e.target.checked:e.target.value:e,Tt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ct=(e,s)=>e.has(Tt(s)),pt=e=>{const s=e.constructor&&e.constructor.prototype;return I(s)&&s.hasOwnProperty("isPrototypeOf")},Te=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let s;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Te&&(e instanceof Blob||i))&&(t||I(e)))if(s=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!pt(e))s=e;else for(const l in e)e.hasOwnProperty(l)&&(s[l]=T(e[l]));else return e;return s}var Ae=e=>/^\w*$/.test(e),O=e=>e===void 0,pe=e=>Array.isArray(e)?e.filter(Boolean):[],Ne=e=>pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!I(e))return t;const i=(Ae(s)?[s]:Ne(s)).reduce((l,n)=>q(l)?l:l[n],e);return O(i)||i===e?O(e[s])?t:e[s]:i},K=e=>typeof e=="boolean",S=(e,s,t)=>{let i=-1;const l=Ae(s)?[s]:Ne(s),n=l.length,d=n-1;for(;++i<n;){const f=l[i];let k=t;if(i!==d){const R=e[f];k=I(R)||Array.isArray(R)?R:isNaN(+l[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=k,e=e[f]}};const Ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Y={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ue=v.createContext(null);Ue.displayName="HookFormContext";const we=()=>v.useContext(Ue),Nt=e=>{const{children:s,...t}=e;return v.createElement(Ue.Provider,{value:t},s)};var ft=(e,s,t,i=!0)=>{const l={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(l,n,{get:()=>{const d=n;return s._proxyFormState[d]!==Y.all&&(s._proxyFormState[d]=!i||Y.all),t&&(t[d]=!0),e[d]}});return l};const Pe=typeof window<"u"?v.useLayoutEffect:v.useEffect;function yt(e){const s=we(),{control:t=s.control,disabled:i,name:l,exact:n}=e||{},[d,f]=v.useState(t._formState),k=v.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Pe(()=>t._subscribe({name:l,formState:k.current,exact:n,callback:R=>{!i&&f({...t._formState,...R})}}),[l,i,n]),v.useEffect(()=>{k.current.isValid&&t._setValid(!0)},[t]),v.useMemo(()=>ft(d,t,k.current,!1),[d,t])}var z=e=>typeof e=="string",Le=(e,s,t,i,l)=>z(e)?(i&&s.watch.add(e),y(t,e,l)):Array.isArray(e)?e.map(n=>(i&&s.watch.add(n),y(t,n))):(i&&(s.watchAll=!0),t),Me=e=>q(e)||!ut(e);function J(e,s,t=new WeakSet){if(Me(e)||Me(s))return Object.is(e,s);if(ne(e)&&ne(s))return e.getTime()===s.getTime();const i=Object.keys(e),l=Object.keys(s);if(i.length!==l.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const n of i){const d=e[n];if(!l.includes(n))return!1;if(n!=="ref"){const f=s[n];if(ne(d)&&ne(f)||I(d)&&I(f)||Array.isArray(d)&&Array.isArray(f)?!J(d,f,t):!Object.is(d,f))return!1}}return!0}function Ut(e){const s=we(),{control:t=s.control,name:i,defaultValue:l,disabled:n,exact:d,compute:f}=e||{},k=v.useRef(l),R=v.useRef(f),A=v.useRef(void 0),_=v.useRef(t),h=v.useRef(i);R.current=f;const[X,j]=v.useState(()=>{const V=t._getWatch(i,k.current);return R.current?R.current(V):V}),C=v.useCallback(V=>{const F=Le(i,t._names,V||t._formValues,!1,k.current);return R.current?R.current(F):F},[t._formValues,t._names,i]),p=v.useCallback(V=>{if(!n){const F=Le(i,t._names,V||t._formValues,!1,k.current);if(R.current){const $=R.current(F);J($,A.current)||(j($),A.current=$)}else j(F)}},[t._formValues,t._names,n,i]);Pe(()=>((_.current!==t||!J(h.current,i))&&(_.current=t,h.current=i,p()),t._subscribe({name:i,formState:{values:!0},exact:d,callback:V=>{p(V.values)}})),[t,d,i,p]),v.useEffect(()=>t._removeUnmounted());const Z=_.current!==t,b=h.current,N=v.useMemo(()=>{if(n)return null;const V=!Z&&!J(b,i);return Z||V?C():null},[n,Z,i,b,C]);return N!==null?N:X}function Pt(e){const s=we(),{name:t,disabled:i,control:l=s.control,shouldUnregister:n,defaultValue:d,exact:f=!0}=e,k=ct(l._names.array,t),R=v.useMemo(()=>y(l._formValues,t,y(l._defaultValues,t,d)),[l,t,d]),A=Ut({control:l,name:t,defaultValue:R,exact:f}),_=yt({control:l,name:t,exact:f}),h=v.useRef(e),X=v.useRef(void 0),j=v.useRef(l.register(t,{...e.rules,value:A,...K(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const C=v.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(_.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(_.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(_.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(_.validatingFields,t)},error:{enumerable:!0,get:()=>y(_.errors,t)}}),[_,t]),p=v.useCallback(V=>j.current.onChange({target:{value:dt(V),name:t},type:Ve.CHANGE}),[t]),Z=v.useCallback(()=>j.current.onBlur({target:{value:y(l._formValues,t),name:t},type:Ve.BLUR}),[t,l._formValues]),b=v.useCallback(V=>{const F=y(l._fields,t);F&&V&&(F._f.ref={focus:()=>V.focus&&V.focus(),select:()=>V.select&&V.select(),setCustomValidity:$=>V.setCustomValidity($),reportValidity:()=>V.reportValidity()})},[l._fields,t]),N=v.useMemo(()=>({name:t,value:A,...K(i)||_.disabled?{disabled:_.disabled||i}:{},onChange:p,onBlur:Z,ref:b}),[t,i,_.disabled,p,Z,b,A]);return v.useEffect(()=>{const V=l._options.shouldUnregister||n,F=X.current;F&&F!==t&&!k&&l.unregister(F),l.register(t,{...h.current.rules,...K(h.current.disabled)?{disabled:h.current.disabled}:{}});const $=(H,ce)=>{const U=y(l._fields,H);U&&U._f&&(U._f.mount=ce)};if($(t,!0),V){const H=T(y(l._options.defaultValues,t,h.current.defaultValue));S(l._defaultValues,t,H),O(y(l._formValues,t))&&S(l._formValues,t,H)}return!k&&l.register(t),X.current=t,()=>{(k?V&&!l._state.action:V)?l.unregister(t):$(t,!1)}},[t,l,k,n]),v.useEffect(()=>{l._setDisabledField({disabled:i,name:t})},[i,t,l]),v.useMemo(()=>({field:N,formState:_,fieldState:C}),[N,_,C])}const Bt=e=>e.render(Pt(e));var jt=(e,s,t,i,l)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:l||!0}}:{},me=e=>Array.isArray(e)?e:[e],Xe=()=>{let e=[];return{get observers(){return e},next:l=>{for(const n of e)n.next&&n.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(n=>n!==l)}}),unsubscribe:()=>{e=[]}}};function mt(e,s){const t={};for(const i in e)if(e.hasOwnProperty(i)){const l=e[i],n=s[i];if(l&&I(l)&&n){const d=mt(l,n);I(d)&&(t[i]=d)}else e[i]&&(t[i]=n)}return t}var B=e=>I(e)&&!Object.keys(e).length,Be=e=>e.type==="file",Q=e=>typeof e=="function",Fe=e=>{if(!Te)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},gt=e=>e.type==="select-multiple",je=e=>e.type==="radio",Wt=e=>je(e)||ve(e),Oe=e=>Fe(e)&&e.isConnected;function qt(e,s){const t=s.slice(0,-1).length;let i=0;for(;i<t;)e=O(e)?i++:e[s[i++]];return e}function $t(e){for(const s in e)if(e.hasOwnProperty(s)&&!O(e[s]))return!1;return!0}function M(e,s){const t=Array.isArray(s)?s:Ae(s)?[s]:Ne(s),i=t.length===1?e:qt(e,t),l=t.length-1,n=t[l];return i&&delete i[n],l!==0&&(I(i)&&B(i)||Array.isArray(i)&&$t(i))&&M(e,t.slice(0,-1)),e}var Ht=e=>{for(const s in e)if(Q(e[s]))return!0;return!1};function ht(e){return Array.isArray(e)||I(e)&&!Ht(e)}function Ie(e,s={}){for(const t in e){const i=e[t];ht(i)?(s[t]=Array.isArray(i)?[]:{},Ie(i,s[t])):O(i)||(s[t]=!0)}return s}function ue(e,s,t){t||(t=Ie(s));for(const i in e){const l=e[i];if(ht(l))O(s)||Me(t[i])?t[i]=Ie(l,Array.isArray(l)?[]:{}):ue(l,q(s)?{}:s[i],t[i]);else{const n=s[i];t[i]=!J(l,n)}}return t}const Ze={value:!1,isValid:!1},et={value:!0,isValid:!0};var vt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!O(e[0].attributes.value)?O(e[0].value)||e[0].value===""?et:{value:e[0].value,isValid:!0}:et:Ze}return Ze},bt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:i})=>O(e)?e:s?e===""?NaN:e&&+e:t&&z(e)?new Date(e):i?i(e):e;const tt={isValid:!1,value:null};var _t=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,tt):tt;function rt(e){const s=e.ref;return Be(s)?s.files:je(s)?_t(e.refs).value:gt(s)?[...s.selectedOptions].map(({value:t})=>t):ve(s)?vt(e.refs).value:bt(O(s.value)?e.ref.value:s.value,e)}var Kt=(e,s,t,i)=>{const l={};for(const n of e){const d=y(s,n);d&&S(l,n,d._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:i}},xe=e=>e instanceof RegExp,ye=e=>O(e)?e:xe(e)?e.source:I(e)?xe(e.value)?e.value.source:e.value:e,st=e=>({isOnSubmit:!e||e===Y.onSubmit,isOnBlur:e===Y.onBlur,isOnChange:e===Y.onChange,isOnAll:e===Y.all,isOnTouch:e===Y.onTouched});const it="AsyncFunction";var zt=e=>!!e&&!!e.validate&&!!(Q(e.validate)&&e.validate.constructor.name===it||I(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===it)),Gt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),at=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ge=(e,s,t,i)=>{for(const l of t||Object.keys(e)){const n=y(e,l);if(n){const{_f:d,...f}=n;if(d){if(d.refs&&d.refs[0]&&s(d.refs[0],l)&&!i)return!0;if(d.ref&&s(d.ref,d.name)&&!i)return!0;if(ge(f,s))break}else if(I(f)&&ge(f,s))break}}};function nt(e,s,t){const i=y(e,t);if(i||Ae(t))return{error:i,name:t};const l=t.split(".");for(;l.length;){const n=l.join("."),d=y(s,n),f=y(e,n);if(d&&!Array.isArray(d)&&t!==n)return{name:t};if(f&&f.type)return{name:n,error:f};if(f&&f.root&&f.root.type)return{name:`${n}.root`,error:f.root};l.pop()}return{name:t}}var Yt=(e,s,t,i)=>{t(e);const{name:l,...n}=e;return B(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(d=>s[d]===(!i||Y.all))},Jt=(e,s,t)=>!e||!s||e===s||me(e).some(i=>i&&(t?i===s:i.startsWith(s)||s.startsWith(i))),Qt=(e,s,t,i,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(s||e):(t?i.isOnBlur:l.isOnBlur)?!e:(t?i.isOnChange:l.isOnChange)?e:!0,Xt=(e,s)=>!pe(y(e,s)).length&&M(e,s),Zt=(e,s,t)=>{const i=me(y(e,t));return S(i,"root",s[t]),S(e,t,i),e};function lt(e,s,t="validate"){if(z(e)||Array.isArray(e)&&e.every(z)||K(e)&&!e)return{type:t,message:z(e)?e:"",ref:s}}var oe=e=>I(e)&&!xe(e)?e:{value:e,message:""},ot=async(e,s,t,i,l,n)=>{const{ref:d,refs:f,required:k,maxLength:R,minLength:A,min:_,max:h,pattern:X,validate:j,name:C,valueAsNumber:p,mount:Z}=e._f,b=y(t,C);if(!Z||s.has(C))return{};const N=f?f[0]:d,V=x=>{l&&N.reportValidity&&(N.setCustomValidity(K(x)?"":x||""),N.reportValidity())},F={},$=je(d),H=ve(d),ce=$||H,U=(p||Be(d))&&O(d.value)&&O(b)||Fe(d)&&d.value===""||b===""||Array.isArray(b)&&!b.length,ae=jt.bind(null,C,i,F),ee=(x,D,L,P=se.maxLength,W=se.minLength)=>{const te=x?D:L;F[C]={type:x?P:W,message:te,ref:d,...ae(x?P:W,te)}};if(n?!Array.isArray(b)||!b.length:k&&(!ce&&(U||q(b))||K(b)&&!b||H&&!vt(f).isValid||$&&!_t(f).isValid)){const{value:x,message:D}=z(k)?{value:!!k,message:k}:oe(k);if(x&&(F[C]={type:se.required,message:D,ref:N,...ae(se.required,D)},!i))return V(D),F}if(!U&&(!q(_)||!q(h))){let x,D;const L=oe(h),P=oe(_);if(!q(b)&&!isNaN(b)){const W=d.valueAsNumber||b&&+b;q(L.value)||(x=W>L.value),q(P.value)||(D=W<P.value)}else{const W=d.valueAsDate||new Date(b),te=be=>new Date(new Date().toDateString()+" "+be),fe=d.type=="time",le=d.type=="week";z(L.value)&&b&&(x=fe?te(b)>te(L.value):le?b>L.value:W>new Date(L.value)),z(P.value)&&b&&(D=fe?te(b)<te(P.value):le?b<P.value:W<new Date(P.value))}if((x||D)&&(ee(!!x,L.message,P.message,se.max,se.min),!i))return V(F[C].message),F}if((R||A)&&!U&&(z(b)||n&&Array.isArray(b))){const x=oe(R),D=oe(A),L=!q(x.value)&&b.length>+x.value,P=!q(D.value)&&b.length<+D.value;if((L||P)&&(ee(L,x.message,D.message),!i))return V(F[C].message),F}if(X&&!U&&z(b)){const{value:x,message:D}=oe(X);if(xe(x)&&!b.match(x)&&(F[C]={type:se.pattern,message:D,ref:d,...ae(se.pattern,D)},!i))return V(D),F}if(j){if(Q(j)){const x=await j(b,t),D=lt(x,N);if(D&&(F[C]={...D,...ae(se.validate,D.message)},!i))return V(D.message),F}else if(I(j)){let x={};for(const D in j){if(!B(x)&&!i)break;const L=lt(await j[D](b,t),N,D);L&&(x={...L,...ae(D,L.message)},V(L.message),i&&(F[C]=x))}if(!B(x)&&(F[C]={ref:N,...x},!i))return F}}return V(!0),F};const er={mode:Y.onSubmit,reValidateMode:Y.onChange,shouldFocusError:!0};function tr(e={}){let s={...er,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Q(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},l=I(s.defaultValues)||I(s.values)?T(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:T(l),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},k,R=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...A};const h={array:Xe(),state:Xe()},X=s.criteriaMode===Y.all,j=r=>a=>{clearTimeout(R),R=setTimeout(r,a)},C=async r=>{if(!s.disabled&&(A.isValid||_.isValid||r)){const a=s.resolver?B((await H()).errors):await U(i,!0);a!==t.isValid&&h.state.next({isValid:a})}},p=(r,a)=>{!s.disabled&&(A.isValidating||A.validatingFields||_.isValidating||_.validatingFields)&&((r||Array.from(f.mount)).forEach(o=>{o&&(a?S(t.validatingFields,o,a):M(t.validatingFields,o))}),h.state.next({validatingFields:t.validatingFields,isValidating:!B(t.validatingFields)}))},Z=(r,a=[],o,m,c=!0,u=!0)=>{if(m&&o&&!s.disabled){if(d.action=!0,u&&Array.isArray(y(i,r))){const g=o(y(i,r),m.argA,m.argB);c&&S(i,r,g)}if(u&&Array.isArray(y(t.errors,r))){const g=o(y(t.errors,r),m.argA,m.argB);c&&S(t.errors,r,g),Xt(t.errors,r)}if((A.touchedFields||_.touchedFields)&&u&&Array.isArray(y(t.touchedFields,r))){const g=o(y(t.touchedFields,r),m.argA,m.argB);c&&S(t.touchedFields,r,g)}(A.dirtyFields||_.dirtyFields)&&(t.dirtyFields=ue(l,n)),h.state.next({name:r,isDirty:ee(r,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else S(n,r,a)},b=(r,a)=>{S(t.errors,r,a),h.state.next({errors:t.errors})},N=r=>{t.errors=r,h.state.next({errors:t.errors,isValid:!1})},V=(r,a,o,m)=>{const c=y(i,r);if(c){const u=y(n,r,O(o)?y(l,r):o);O(u)||m&&m.defaultChecked||a?S(n,r,a?u:rt(c._f)):L(r,u),d.mount&&!d.action&&C()}},F=(r,a,o,m,c)=>{let u=!1,g=!1;const w={name:r};if(!s.disabled){if(!o||m){(A.isDirty||_.isDirty)&&(g=t.isDirty,t.isDirty=w.isDirty=ee(),u=g!==w.isDirty);const E=J(y(l,r),a);g=!!y(t.dirtyFields,r),E?M(t.dirtyFields,r):S(t.dirtyFields,r,!0),w.dirtyFields=t.dirtyFields,u=u||(A.dirtyFields||_.dirtyFields)&&g!==!E}if(o){const E=y(t.touchedFields,r);E||(S(t.touchedFields,r,o),w.touchedFields=t.touchedFields,u=u||(A.touchedFields||_.touchedFields)&&E!==o)}u&&c&&h.state.next(w)}return u?w:{}},$=(r,a,o,m)=>{const c=y(t.errors,r),u=(A.isValid||_.isValid)&&K(a)&&t.isValid!==a;if(s.delayError&&o?(k=j(()=>b(r,o)),k(s.delayError)):(clearTimeout(R),k=null,o?S(t.errors,r,o):M(t.errors,r)),(o?!J(c,o):c)||!B(m)||u){const g={...m,...u&&K(a)?{isValid:a}:{},errors:t.errors,name:r};t={...t,...g},h.state.next(g)}},H=async r=>{p(r,!0);const a=await s.resolver(n,s.context,Kt(r||f.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return p(r),a},ce=async r=>{const{errors:a}=await H(r);if(r)for(const o of r){const m=y(a,o);m?S(t.errors,o,m):M(t.errors,o)}else t.errors=a;return a},U=async(r,a,o={valid:!0})=>{for(const m in r){const c=r[m];if(c){const{_f:u,...g}=c;if(u){const w=f.array.has(u.name),E=c._f&&zt(c._f);E&&A.validatingFields&&p([u.name],!0);const G=await ot(c,f.disabled,n,X,s.shouldUseNativeValidation&&!a,w);if(E&&A.validatingFields&&p([u.name]),G[u.name]&&(o.valid=!1,a))break;!a&&(y(G,u.name)?w?Zt(t.errors,G,u.name):S(t.errors,u.name,G[u.name]):M(t.errors,u.name))}!B(g)&&await U(g,a,o)}}return o.valid},ae=()=>{for(const r of f.unMount){const a=y(i,r);a&&(a._f.refs?a._f.refs.every(o=>!Oe(o)):!Oe(a._f.ref))&&ke(r)}f.unMount=new Set},ee=(r,a)=>!s.disabled&&(r&&a&&S(n,r,a),!J(be(),l)),x=(r,a,o)=>Le(r,f,{...d.mount?n:O(a)?l:z(r)?{[r]:a}:a},o,a),D=r=>pe(y(d.mount?n:l,r,s.shouldUnregister?y(l,r,[]):[])),L=(r,a,o={})=>{const m=y(i,r);let c=a;if(m){const u=m._f;u&&(!u.disabled&&S(n,r,bt(a,u)),c=Fe(u.ref)&&q(a)?"":a,gt(u.ref)?[...u.ref.options].forEach(g=>g.selected=c.includes(g.value)):u.refs?ve(u.ref)?u.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(c)?g.checked=!!c.find(w=>w===g.value):g.checked=c===g.value||!!c)}):u.refs.forEach(g=>g.checked=g.value===c):Be(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||h.state.next({name:r,values:T(n)})))}(o.shouldDirty||o.shouldTouch)&&F(r,c,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&le(r)},P=(r,a,o)=>{for(const m in a){if(!a.hasOwnProperty(m))return;const c=a[m],u=r+"."+m,g=y(i,u);(f.array.has(r)||I(c)||g&&!g._f)&&!ne(c)?P(u,c,o):L(u,c,o)}},W=(r,a,o={})=>{const m=y(i,r),c=f.array.has(r),u=T(a);S(n,r,u),c?(h.array.next({name:r,values:T(n)}),(A.isDirty||A.dirtyFields||_.isDirty||_.dirtyFields)&&o.shouldDirty&&h.state.next({name:r,dirtyFields:ue(l,n),isDirty:ee(r,u)})):m&&!m._f&&!q(u)?P(r,u,o):L(r,u,o),at(r,f)&&h.state.next({...t,name:r}),h.state.next({name:d.mount?r:void 0,values:T(n)})},te=async r=>{d.mount=!0;const a=r.target;let o=a.name,m=!0;const c=y(i,o),u=E=>{m=Number.isNaN(E)||ne(E)&&isNaN(E.getTime())||J(E,y(n,o,E))},g=st(s.mode),w=st(s.reValidateMode);if(c){let E,G;const _e=a.type?rt(c._f):dt(r),ie=r.type===Ve.BLUR||r.type===Ve.FOCUS_OUT,Rt=!Gt(c._f)&&!s.resolver&&!y(t.errors,o)&&!c._f.deps||Qt(ie,y(t.touchedFields,o),t.isSubmitted,w,g),Ce=at(o,f,ie);S(n,o,_e),ie?(!a||!a.readOnly)&&(c._f.onBlur&&c._f.onBlur(r),k&&k(0)):c._f.onChange&&c._f.onChange(r);const Re=F(o,_e,ie),Ot=!B(Re)||Ce;if(!ie&&h.state.next({name:o,type:r.type,values:T(n)}),Rt)return(A.isValid||_.isValid)&&(s.mode==="onBlur"?ie&&C():ie||C()),Ot&&h.state.next({name:o,...Ce?{}:Re});if(!ie&&Ce&&h.state.next({...t}),s.resolver){const{errors:Je}=await H([o]);if(u(_e),m){const Lt=nt(t.errors,i,o),Qe=nt(Je,i,Lt.name||o);E=Qe.error,o=Qe.name,G=B(Je)}}else p([o],!0),E=(await ot(c,f.disabled,n,X,s.shouldUseNativeValidation))[o],p([o]),u(_e),m&&(E?G=!1:(A.isValid||_.isValid)&&(G=await U(i,!0)));m&&(c._f.deps&&(!Array.isArray(c._f.deps)||c._f.deps.length>0)&&le(c._f.deps),$(o,G,E,Re))}},fe=(r,a)=>{if(y(t.errors,a)&&r.focus)return r.focus(),1},le=async(r,a={})=>{let o,m;const c=me(r);if(s.resolver){const u=await ce(O(r)?r:c);o=B(u),m=r?!c.some(g=>y(u,g)):o}else r?(m=(await Promise.all(c.map(async u=>{const g=y(i,u);return await U(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!m&&!t.isValid)&&C()):m=o=await U(i);return h.state.next({...!z(r)||(A.isValid||_.isValid)&&o!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:o}:{},errors:t.errors}),a.shouldFocus&&!m&&ge(i,fe,r?c:f.mount),m},be=(r,a)=>{let o={...d.mount?n:l};return a&&(o=mt(a.dirtyFields?t.dirtyFields:t.touchedFields,o)),O(r)?o:z(r)?y(o,r):r.map(m=>y(o,m))},We=(r,a)=>({invalid:!!y((a||t).errors,r),isDirty:!!y((a||t).dirtyFields,r),error:y((a||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((a||t).touchedFields,r)}),At=r=>{r&&me(r).forEach(a=>M(t.errors,a)),h.state.next({errors:r?t.errors:{}})},qe=(r,a,o)=>{const m=(y(i,r,{_f:{}})._f||{}).ref,c=y(t.errors,r)||{},{ref:u,message:g,type:w,...E}=c;S(t.errors,r,{...E,...a,ref:m}),h.state.next({name:r,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&m&&m.focus&&m.focus()},wt=(r,a)=>Q(r)?h.state.subscribe({next:o=>"values"in o&&r(x(void 0,a),o)}):x(r,a,!0),$e=r=>h.state.subscribe({next:a=>{Jt(r.name,a.name,r.exact)&&Yt(a,r.formState||A,Ct,r.reRenderRoot)&&r.callback({values:{...n},...t,...a,defaultValues:l})}}).unsubscribe,Dt=r=>(d.mount=!0,_={..._,...r.formState},$e({...r,formState:_})),ke=(r,a={})=>{for(const o of r?me(r):f.mount)f.mount.delete(o),f.array.delete(o),a.keepValue||(M(i,o),M(n,o)),!a.keepError&&M(t.errors,o),!a.keepDirty&&M(t.dirtyFields,o),!a.keepTouched&&M(t.touchedFields,o),!a.keepIsValidating&&M(t.validatingFields,o),!s.shouldUnregister&&!a.keepDefaultValue&&M(l,o);h.state.next({values:T(n)}),h.state.next({...t,...a.keepDirty?{isDirty:ee()}:{}}),!a.keepIsValid&&C()},He=({disabled:r,name:a})=>{(K(r)&&d.mount||r||f.disabled.has(a))&&(r?f.disabled.add(a):f.disabled.delete(a))},Ee=(r,a={})=>{let o=y(i,r);const m=K(a.disabled)||K(s.disabled);return S(i,r,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:r}},name:r,mount:!0,...a}}),f.mount.add(r),o?He({disabled:K(a.disabled)?a.disabled:s.disabled,name:r}):V(r,!0,a.value),{...m?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:ye(a.min),max:ye(a.max),minLength:ye(a.minLength),maxLength:ye(a.maxLength),pattern:ye(a.pattern)}:{},name:r,onChange:te,onBlur:te,ref:c=>{if(c){Ee(r,a),o=y(i,r);const u=O(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=Wt(u),w=o._f.refs||[];if(g?w.find(E=>E===u):u===o._f.ref)return;S(i,r,{_f:{...o._f,...g?{refs:[...w.filter(Oe),u,...Array.isArray(y(l,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),V(r,!1,void 0,u)}else o=y(i,r,{}),o._f&&(o._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(ct(f.array,r)&&d.action)&&f.unMount.add(r)}}},Se=()=>s.shouldFocusError&&ge(i,fe,f.mount),kt=r=>{K(r)&&(h.state.next({disabled:r}),ge(i,(a,o)=>{const m=y(i,o);m&&(a.disabled=m._f.disabled||r,Array.isArray(m._f.refs)&&m._f.refs.forEach(c=>{c.disabled=m._f.disabled||r}))},0,!1))},Ke=(r,a)=>async o=>{let m;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let c=T(n);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:u,values:g}=await H();t.errors=u,c=T(g)}else await U(i);if(f.disabled.size)for(const u of f.disabled)M(c,u);if(M(t.errors,"root"),B(t.errors)){h.state.next({errors:{}});try{await r(c,o)}catch(u){m=u}}else a&&await a({...t.errors},o),Se(),setTimeout(Se);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},Et=(r,a={})=>{y(i,r)&&(O(a.defaultValue)?W(r,T(y(l,r))):(W(r,a.defaultValue),S(l,r,T(a.defaultValue))),a.keepTouched||M(t.touchedFields,r),a.keepDirty||(M(t.dirtyFields,r),t.isDirty=a.defaultValue?ee(r,T(y(l,r))):ee()),a.keepError||(M(t.errors,r),A.isValid&&C()),h.state.next({...t}))},ze=(r,a={})=>{const o=r?T(r):l,m=T(o),c=B(r),u=c?l:m;if(a.keepDefaultValues||(l=o),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...f.mount,...Object.keys(ue(l,n))]);for(const w of Array.from(g))y(t.dirtyFields,w)?S(u,w,y(n,w)):W(w,y(u,w))}else{if(Te&&O(r))for(const g of f.mount){const w=y(i,g);if(w&&w._f){const E=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(Fe(E)){const G=E.closest("form");if(G){G.reset();break}}}}if(a.keepFieldsRef)for(const g of f.mount)W(g,y(u,g));else i={}}n=s.shouldUnregister?a.keepDefaultValues?T(l):{}:T(u),h.array.next({values:{...u}}),h.state.next({values:{...u}})}f={mount:a.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!A.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!s.shouldUnregister&&!B(u),d.watch=!!s.shouldUnregister,d.action=!1,a.keepErrors||(t.errors={}),h.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:c?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!J(r,l)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&n?ue(l,n):t.dirtyFields:a.keepDefaultValues&&r?ue(l,r):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},Ge=(r,a)=>ze(Q(r)?r(n):r,a),St=(r,a={})=>{const o=y(i,r),m=o&&o._f;if(m){const c=m.refs?m.refs[0]:m.ref;c.focus&&(c.focus(),a.shouldSelect&&Q(c.select)&&c.select())}},Ct=r=>{t={...t,...r}},Ye={control:{register:Ee,unregister:ke,getFieldState:We,handleSubmit:Ke,setError:qe,_subscribe:$e,_runSchema:H,_focusError:Se,_getWatch:x,_getDirty:ee,_setValid:C,_setFieldArray:Z,_setDisabledField:He,_setErrors:N,_getFieldArray:D,_reset:ze,_resetDefaultValues:()=>Q(s.defaultValues)&&s.defaultValues().then(r=>{Ge(r,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:ae,_disableForm:kt,_subjects:h,_proxyFormState:A,get _fields(){return i},get _formValues(){return n},get _state(){return d},set _state(r){d=r},get _defaultValues(){return l},get _names(){return f},set _names(r){f=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:Dt,trigger:le,register:Ee,handleSubmit:Ke,watch:wt,setValue:W,getValues:be,reset:Ge,resetField:Et,clearErrors:At,unregister:ke,setError:qe,setFocus:St,getFieldState:We};return{...Ye,formControl:Ye}}function or(e={}){const s=v.useRef(void 0),t=v.useRef(void 0),[i,l]=v.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:i},e.defaultValues&&!Q(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...f}=tr(e);s.current={...f,formState:i}}const n=s.current.control;return n._options=e,Pe(()=>{const d=n._subscribe({formState:n._proxyFormState,callback:()=>l({...n._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),n._formState.isReady=!0,d},[n]),v.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),v.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),v.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),v.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),v.useEffect(()=>{if(n._proxyFormState.isDirty){const d=n._getDirty();d!==i.isDirty&&n._subjects.state.next({isDirty:d})}},[n,i.isDirty]),v.useEffect(()=>{var d;e.values&&!J(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((d=n._options.resetOptions)===null||d===void 0)&&d.keepIsValid||n._setValid(),t.current=e.values,l(f=>({...f}))):n._resetDefaultValues()},[n,e.values]),v.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=ft(i,n),s.current}var rr="Label",Vt=de.forwardRef((e,s)=>re.jsx(It.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Vt.displayName=rr;var sr=Vt;function ir({className:e,...s}){return re.jsx(sr,{"data-slot":"label",className:he("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}const ur=Nt,Ft=de.createContext({}),dr=({...e})=>re.jsx(Ft.Provider,{value:{name:e.name},children:re.jsx(Bt,{...e})}),De=()=>{const e=de.useContext(Ft),s=de.useContext(xt),{getFieldState:t}=we(),i=yt({name:e.name}),l=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:n}=s;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},xt=de.createContext({});function cr({className:e,...s}){const t=de.useId();return re.jsx(xt.Provider,{value:{id:t},children:re.jsx("div",{"data-slot":"form-item",className:he("grid gap-2",e),...s})})}function fr({className:e,...s}){const{error:t,formItemId:i}=De();return re.jsx(ir,{"data-slot":"form-label","data-error":!!t,className:he("data-[error=true]:text-destructive",e),htmlFor:i,...s})}function yr({...e}){const{error:s,formItemId:t,formDescriptionId:i,formMessageId:l}=De();return re.jsx(Mt,{"data-slot":"form-control",id:t,"aria-describedby":s?`${i} ${l}`:`${i}`,"aria-invalid":!!s,...e})}function mr({className:e,...s}){const{formDescriptionId:t}=De();return re.jsx("p",{"data-slot":"form-description",id:t,className:he("text-sm text-muted-foreground",e),...s})}function gr({className:e,...s}){const{error:t,formMessageId:i}=De(),l=t?String(t?.message??""):s.children;return l?re.jsx("p",{"data-slot":"form-message",id:i,className:he("text-sm text-destructive",e),...s,children:l}):null}export{ur as F,ir as L,dr as a,cr as b,fr as c,yr as d,gr as e,Ut as f,mr as g,y as h,jt as i,S as s,or as u};
